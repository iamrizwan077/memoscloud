{"ast":null,"code":"import _slicedToArray from \"/home/rizwan/Desktop/memoscloud/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/rizwan/Desktop/memoscloud/frontend/src/Gallery.js\";\n\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport Lightbox from \"react-image-lightbox\";\nimport \"react-image-lightbox/style.css\";\nimport Img from \"./Img.js\";\n\nvar Gallery = function Gallery() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      gallery = _useState2[0],\n      setGallery = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      modal = _useState4[0],\n      setModal = _useState4[1];\n\n  var reader = new FileReader();\n  useEffect(function () {\n    axios.get(\"http://127.0.0.1:8000/api/gallery/\").then(function (res) {\n      setGallery(res.data);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }, []);\n\n  var handleModal = function handleModal(e, key) {\n    console.log(modal);\n    setModal(!modal);\n    console.log(modal);\n    console.log(key);\n  }; //const [data, setData] = useState(null);\n\n\n  {\n    /*}let gallery=[];\r\n    const getData = async () => {\r\n     await axios\r\n       .get(\"http://127.0.0.1:8000/api/gallery/\")\r\n       .then((res) => {\r\n         console.log(\"res\", res)\r\n         gallery.push(res.data)\r\n         console.log(\"GAllery\" ,gallery)\r\n       })\r\n       .catch((err) => console.log(err));\r\n    }\r\n    useEffect(() => {\r\n     getData();\r\n    }, [null]);\r\n    let das = document.getElementById(\"das\")\r\n    const display=(gallery)=>{\r\n     for (let i in gallery){\r\n       console.log(i.name, i.image, \" .. \")\r\n       das.innerHTML=gallery\r\n     }\r\n    }\r\n    //  display(data)\r\n    {*/\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-cols-3 grid gap-2 mx-2 my-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, gallery.map(function (image, key) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: key,\n      className: \"m-4 \",\n      onClick: function onClick(e) {\n        return handleModal(e, key);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"w-full h-full\",\n      src: \"http://localhost:8000\".concat(image.image),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"truncate\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, image.name));\n  })), console.log(gallery, gallery[0]));\n};\n\nexport default Gallery;","map":{"version":3,"names":["axios","React","useState","useEffect","Lightbox","Img","Gallery","gallery","setGallery","modal","setModal","reader","FileReader","get","then","res","data","catch","err","console","log","handleModal","e","key","map","image","name"],"sources":["/home/rizwan/Desktop/memoscloud/frontend/src/Gallery.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Lightbox from \"react-image-lightbox\";\r\nimport \"react-image-lightbox/style.css\"\r\nimport Img from \"./Img.js\";\r\n\r\nconst Gallery = () => {\r\n  const [gallery, setGallery] = useState([])\r\n  const [modal, setModal] = useState(false)\r\n  const reader = new FileReader()\r\n  useEffect(() => {\r\n    axios.get(\"http://127.0.0.1:8000/api/gallery/\")\r\n      .then(res => { setGallery(res.data) }\r\n      )\r\n      .catch(err =>\r\n        console.log(err)\r\n      )\r\n\r\n  }, [])\r\n\r\n  const handleModal = (e,key) => {\r\n    console.log(modal)\r\n    setModal(!modal)\r\n    console.log(modal)\r\n    console.log(key)\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  //const [data, setData] = useState(null);\r\n  {/*}let gallery=[];\r\n  const getData = async () => {\r\n    await axios\r\n      .get(\"http://127.0.0.1:8000/api/gallery/\")\r\n      .then((res) => {\r\n        console.log(\"res\", res)\r\n        gallery.push(res.data)\r\n        console.log(\"GAllery\" ,gallery)\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n  useEffect(() => {\r\n    getData();\r\n  }, [null]);\r\n  let das = document.getElementById(\"das\")\r\n  const display=(gallery)=>{\r\n    for (let i in gallery){\r\n      console.log(i.name, i.image, \" .. \")\r\n      das.innerHTML=gallery\r\n    }\r\n  }\r\n//  display(data)\r\n{*/}\r\n  return (\r\n  <div>\r\n    <div className=\"grid-cols-3 grid gap-2 mx-2 my-2\">\r\n      {\r\n        gallery.map((image,key) => (\r\n          <div key={key} className=\"m-4 \" onClick={e => handleModal(e, key)}>\r\n            <img className=\"w-full h-full\" src={`http://localhost:8000${image.image}`} /> \r\n            <div className=\"truncate\">{image.name}</div>\r\n          </div>\r\n\r\n        ))\r\n      }\r\n  \r\n      {/*}\r\n      <div>\r\n        {\r\n          gallery.map(image =>(\r\n            <div key={image.id}>{image.name} ....... http://localhost:8000{image.image} <img src={`http://localhost:8000${image.image}`} /> </div>\r\n            \r\n          ))\r\n        }\r\n      \r\n        <img src=\"http://localhost:8000/media/images/logo1.png\"/>\r\n        <img src=\"https://th.bing.com/th/id/R.86867a04219a6756478094d5d0fea230?rik=LsrQ6BdXbW76Ug&riu=http%3a%2f%2fimages.unsplash.com%2fphoto-1572119459401-944f182281b3%3fixlib%3drb-1.2.1%26q%3d80%26fm%3djpg%26crop%3dentropy%26cs%3dtinysrgb%26w%3d1080%26fit%3dmax&ehk=DCfiR7CMMByG%2fwRbXSOM%2fVlyxbf22QcBkzmIX6nAWCA%3d&risl=&pid=ImgRaw&r=0\"/>\r\n      </div>\r\n{*/}\r\n\r\n\r\n\r\n\r\n\r\n      {/*}    <Img val=\"https://images.unsplash.com/photo-1657281277237-e1104ff6f18b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80\" />\r\n      <Img val=\"https://images.unsplash.com/photo-1657296950265-e17c3db4e85a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1287&q=80\" />\r\n      <Img val=\"https://images.unsplash.com/photo-1657281277237-e1104ff6f18b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80\" />\r\n      <Img val=\"https://images.unsplash.com/photo-1657296950265-e17c3db4e85a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1287&q=80\" />\r\n      <Img val=\"https://images.unsplash.com/photo-1657281277237-e1104ff6f18b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80\" />\r\n      <Img val=\"https://images.unsplash.com/photo-1657296950265-e17c3db4e85a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1287&q=80\" />\r\n      <Img val=\"https://images.unsplash.com/photo-1657281277237-e1104ff6f18b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80\" />\r\n    {*/}\r\n    </div>\r\n{/*}    {modal && <Lightbox\r\n        imageTitle={gallery[key].name}\r\n        mainSrc={`http://localhost:8000${key.image}`}\r\n        nextSrc={gallery[(key + 1) % images.length].url}\r\n        prevSrc={images[(imgIndex + images.length - 1) % images.length].url}\r\n        onCloseRequest={() => setIsOpen(false)}\r\n        onMovePrevRequest={() => setImgIndex((imgIndex + images.length - 1) % images.length)}\r\n        onMoveNextRequest={() => setImgIndex((imgIndex + 1) % images.length)}\r\n      />}{*/}\r\n      { \r\n        console.log(gallery, gallery[0])\r\n      \r\n      \r\n      \r\n      \r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Gallery;\r\n"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAO,gCAAP;AACA,OAAOC,GAAP,MAAgB,UAAhB;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;EAAA,gBACUJ,QAAQ,CAAC,EAAD,CADlB;EAAA;EAAA,IACbK,OADa;EAAA,IACJC,UADI;;EAAA,iBAEMN,QAAQ,CAAC,KAAD,CAFd;EAAA;EAAA,IAEbO,KAFa;EAAA,IAENC,QAFM;;EAGpB,IAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;EACAT,SAAS,CAAC,YAAM;IACdH,KAAK,CAACa,GAAN,CAAU,oCAAV,EACGC,IADH,CACQ,UAAAC,GAAG,EAAI;MAAEP,UAAU,CAACO,GAAG,CAACC,IAAL,CAAV;IAAsB,CADvC,EAGGC,KAHH,CAGS,UAAAC,GAAG;MAAA,OACRC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CADQ;IAAA,CAHZ;EAOD,CARQ,EAQN,EARM,CAAT;;EAUA,IAAMG,WAAW,GAAG,SAAdA,WAAc,CAACC,CAAD,EAAGC,GAAH,EAAW;IAC7BJ,OAAO,CAACC,GAAR,CAAYX,KAAZ;IACAC,QAAQ,CAAC,CAACD,KAAF,CAAR;IACAU,OAAO,CAACC,GAAR,CAAYX,KAAZ;IACAU,OAAO,CAACC,GAAR,CAAYG,GAAZ;EACD,CALD,CAdoB,CAiCpB;;;EACA;IAAC;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAAI;EACF,oBACA;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAK,SAAS,EAAC,kCAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEIhB,OAAO,CAACiB,GAAR,CAAY,UAACC,KAAD,EAAOF,GAAP;IAAA,oBACV;MAAK,GAAG,EAAEA,GAAV;MAAe,SAAS,EAAC,MAAzB;MAAgC,OAAO,EAAE,iBAAAD,CAAC;QAAA,OAAID,WAAW,CAACC,CAAD,EAAIC,GAAJ,CAAf;MAAA,CAA1C;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACE;MAAK,SAAS,EAAC,eAAf;MAA+B,GAAG,iCAA0BE,KAAK,CAACA,KAAhC,CAAlC;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EADF,eAEE;MAAK,SAAS,EAAC,UAAf;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAA2BA,KAAK,CAACC,IAAjC,CAFF,CADU;EAAA,CAAZ,CAFJ,CADF,EAiDMP,OAAO,CAACC,GAAR,CAAYb,OAAZ,EAAqBA,OAAO,CAAC,CAAD,CAA5B,CAjDN,CADA;AA0DD,CAnHD;;AAqHA,eAAeD,OAAf"},"metadata":{},"sourceType":"module"}